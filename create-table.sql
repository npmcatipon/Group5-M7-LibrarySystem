CREATE SCHEMA IF NOT EXISTS m7;

CREATE TABLE IF NOT EXISTS m7.book (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  title VARCHAR(255) NOT NULL,
  author VARCHAR(255) NOT NULL,
  is_borrowed BOOLEAN NOT NULL DEFAULT FALSE
);

CREATE TABLE IF NOT EXISTS m7.loan (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    userid BIGINT NOT NULL,
    bookid BIGINT NOT NULL
);

CREATE TABLE IF NOT EXISTS m7.users (
    id   BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(255) NOT NULL
);
